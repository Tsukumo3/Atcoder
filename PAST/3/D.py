import numpy as np

l0 = [['.','.','.','.','.'],
        ['#','#','#','#','#'],
        ['#','.','.','.','#'],
        ['#','#','#','#','#']]

l1 = [['.','.','.','.','.'],
     ['.','#','.','.','#'],
     ['#','#','#','#','#'],
     ['.','.','.','.','#']]

l2 = [ ['.','.','.','.','.'],
     ['#','.','#','#','#'],
     ['#','.','#','.','#'],
     ['#','#','#','.','#']]

l3 = [ ['.','.','.','.','.'],
     ['#','.','#','.','#'],
     ['#','.','#','.','#'],
     ['#','#','#','#','#']]

l4 = [ ['.','.','.','.','.'],
     ['#','#','#','.','.'],
     ['.','.','#','.','.'],
     ['#','#','#','#','#']]

l5 = [ ['.','.','.','.','.'],
     ['#','#','#','.','#'],
     ['#','.','#','.','#'],
     ['#','.','#','#','#']]

l6 = [ ['.','.','.','.','.'],
     ['#','#','#','#','#'],
     ['#','.','#','.','#'],
     ['#','.','#','#','#']]

l7 = [['.','.','.','.','.'],
    ['#','.','.','.','.'],
    ['#','.','.','.','.'],
    ['#','#','#','#','#']]

l8 = [ ['.','.','.','.','.'],
     ['#','#','#','#','#'],
     ['#','.','#','.','#'],
     ['#','#','#','#','#']]

l9 = [ ['.','.','.','.','.'],
     ['#','#','#','.','#'],
     ['#','.','#','.','#'],
     ['#','#','#','#','#']]


n = int(input())
s = [list(input()) for i in range(5)]
s = np.array(s)

s = s.T

ll = [l0, l1, l2, l3, l4, l5, l6, l7, l8, l9]

for i in range(10):
    ll[i] = np.array(ll[i])

ans = []

for i in range(len(s)//4):
    check = s[4*i:4*i+4]
    for i in range(10):
        flag = True
        for j in range(4):
            for k in range(5):
                if ll[i][j][k] != check[j][k]:
                    flag = False
                    break
        if flag:
            ans.append(i)

print(*ans, sep="")





"""

10
.###..#..###.###.#.#.###.###.###.###.###.
.#.#.##....#...#.#.#.#...#.....#.#.#.#.#.
.#.#..#..###.###.###.###.###...#.###.###.
.#.#..#..#.....#...#...#.#.#...#.#.#...#.
.###.###.###.###...#.###.###...#.###.###.

"""
